import{S as $r,i as yr,s as Nr,k as c,q as h,a as b,w as q,l as _,m as o,r as g,h as n,c as E,x as B,n as i,H as fr,b as X,I as e,y as F,a6 as Tt,J as Te,a5 as Sr,f as H,t as z,z as U,a8 as bl,K as El,o as Dr,N as Il,u as Wa,ab as ma,ac as ha,L as Cr,ag as Or,ah as Tr,ai as kr}from"../../../../../../chunks/index-a8b8d47a.js";import{A as wr,F as Vr}from"../../../../../../chunks/FileUpload-8816eaa3.js";import{L as Pr,N as Mr,F as Lr}from"../../../../../../chunks/Layout-67523153.js";import{p as Rr}from"../../../../../../chunks/stores-d6e4c71c.js";import{a as va}from"../../../../../../chunks/Api-2c191f3d.js";import{I as ye}from"../../../../../../chunks/Input-a4d41107.js";import{T as qr}from"../../../../../../chunks/TripCard-1585f56a.js";import{n as Le}from"../../../../../../chunks/notification-52aa96ff.js";import{C as gl,F as J}from"../../../../../../chunks/settingsStore-f4e6b824.js";import{g as Br}from"../../../../../../chunks/navigation-ed3d85a4.js";import{G as Fr}from"../../../../../../chunks/GenericHero-47dc0bcf.js";function vr(a,l,t){const u=a.slice();return u[19]=l[t],u}function Hr(a){let l,t=a[3]?"Modifier":"Ajouter",u;return{c(){l=c("span"),u=h(t)},l(s){l=_(s,"SPAN",{});var d=o(l);u=g(d,t),d.forEach(n)},m(s,d){X(s,l,d),e(l,u)},p(s,d){d&8&&t!==(t=s[3]?"Modifier":"Ajouter")&&Wa(u,t)},d(s){s&&n(l)}}}function zr(a){let l,t,u,s;return{c(){l=c("div"),t=ma("svg"),u=ma("path"),s=ma("path"),this.h()},l(d){l=_(d,"DIV",{class:!0});var p=o(l);t=ha(p,"svg",{role:!0,class:!0,viewBox:!0,fill:!0,xmlns:!0});var y=o(t);u=ha(y,"path",{d:!0,fill:!0}),o(u).forEach(n),s=ha(y,"path",{d:!0,fill:!0}),o(s).forEach(n),y.forEach(n),p.forEach(n),this.h()},h(){i(u,"d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"),i(u,"fill","currentColor"),i(s,"d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"),i(s,"fill","currentFill"),i(t,"role","status"),i(t,"class","mr-2 w-8 h-8 text-gray-200 animate-spin dark:text-white fill-primary"),i(t,"viewBox","0 0 100 101"),i(t,"fill","none"),i(t,"xmlns","http://www.w3.org/2000/svg"),i(l,"class","spin")},m(d,p){X(d,l,p),e(l,t),e(t,u),e(t,s)},p:Il,d(d){d&&n(l)}}}function mr(a){let l,t,u,s,d;return{c(){l=c("div"),t=c("span"),u=h("Annuler"),this.h()},l(p){l=_(p,"DIV",{});var y=o(l);t=_(y,"SPAN",{class:!0});var C=o(t);u=g(C,"Annuler"),C.forEach(n),y.forEach(n),this.h()},h(){i(t,"class","underline text-primary text-sm cursor-pointer")},m(p,y){X(p,l,y),e(l,t),e(t,u),s||(d=Te(t,"click",a[15]),s=!0)},p:Il,d(p){p&&n(l),s=!1,d()}}}function Ur(a){let l;return{c(){l=h("Premi\xE8re")},l(t){l=g(t,"Premi\xE8re")},m(t,u){X(t,l,u)},d(t){t&&n(l)}}}function Gr(a){let l;return{c(){l=h("Affaire")},l(t){l=g(t,"Affaire")},m(t,u){X(t,l,u)},d(t){t&&n(l)}}}function Zr(a){let l;return{c(){l=h("Economique")},l(t){l=g(t,"Economique")},m(t,u){X(t,l,u)},d(t){t&&n(l)}}}function Yr(a){let l;return{c(){l=c("i"),this.h()},l(t){l=_(t,"I",{class:!0}),o(l).forEach(n),this.h()},h(){i(l,"class","fa-solid fa-circle-xmark text-error")},m(t,u){X(t,l,u)},d(t){t&&n(l)}}}function Jr(a){let l;return{c(){l=c("i"),this.h()},l(t){l=_(t,"I",{class:!0}),o(l).forEach(n),this.h()},h(){i(l,"class","fa-solid fa-circle-check text-green-600")},m(t,u){X(t,l,u)},d(t){t&&n(l)}}}function hr(a){let l,t,u=a[19].seat_number+"",s,d,p,y,C,f,A,V,G,x,k,ee,M,te,j;function Ne(Z,D){return Z[19].class_type==="economy"?Zr:Z[19].class_type==="business"?Gr:Ur}let ae=Ne(a),O=ae(a);function $(Z,D){return Z[19].is_available?Jr:Yr}let w=$(a),T=w(a);function Ge(){return a[16](a[19])}function me(){return a[17](a[19])}return{c(){l=c("tr"),t=c("td"),s=h(u),d=b(),p=c("td"),O.c(),y=b(),C=c("td"),T.c(),f=b(),A=c("th"),V=c("button"),G=h("Modifier"),x=b(),k=c("button"),ee=h("Supprimer"),M=b(),this.h()},l(Z){l=_(Z,"TR",{});var D=o(l);t=_(D,"TD",{});var ue=o(t);s=g(ue,u),ue.forEach(n),d=E(D),p=_(D,"TD",{});var he=o(p);O.l(he),he.forEach(n),y=E(D),C=_(D,"TD",{});var Re=o(C);T.l(Re),Re.forEach(n),f=E(D),A=_(D,"TH",{});var Y=o(A);V=_(Y,"BUTTON",{class:!0});var ce=o(V);G=g(ce,"Modifier"),ce.forEach(n),x=E(Y),k=_(Y,"BUTTON",{class:!0});var v=o(k);ee=g(v,"Supprimer"),v.forEach(n),Y.forEach(n),M=E(D),D.forEach(n),this.h()},h(){i(V,"class","btn btn-primary btn-xs"),i(k,"class","btn btn-error btn-xs")},m(Z,D){X(Z,l,D),e(l,t),e(t,s),e(l,d),e(l,p),O.m(p,null),e(l,y),e(l,C),T.m(C,null),e(l,f),e(l,A),e(A,V),e(V,G),e(A,x),e(A,k),e(k,ee),e(l,M),te||(j=[Te(V,"click",Ge),Te(k,"click",me)],te=!0)},p(Z,D){a=Z,D&2&&u!==(u=a[19].seat_number+"")&&Wa(s,u),ae!==(ae=Ne(a))&&(O.d(1),O=ae(a),O&&(O.c(),O.m(p,null))),w!==(w=$(a))&&(T.d(1),T=w(a),T&&(T.c(),T.m(C,null)))},d(Z){Z&&n(l),O.d(),T.d(),te=!1,El(j)}}}function jr(a){let l,t,u,s,d,p,y,C,f,A,V,G,x,k,ee,M,te,j,Ne,ae,O,$,w,T,Ge,me,Z,D,ue,he,Re,Y,ce,v,S,W,_t,jt,_e,Ze,De,kt,ke,le,Ae,Ye,we,wt,Ve,se,pt,ne,ge,Vt,xe,be,Pt,et,Ee,Mt,tt,Ie,Lt,at,pe,Pe,lt,Je;G=new ye({props:{label:"Num\xE9ro du si\xE8ge",isRequired:!0,inputId:"seat_number",type:"text",placeholder:"A01",value:a[2].seat_number}}),G.$on("input",a[12]);function rt(N,K){return N[5]?zr:Hr}let qe=rt(a),$e=qe(a),R=a[3]&&mr(a),st=a[1],Q=[];for(let N=0;N<st.length;N+=1)Q[N]=hr(vr(a,st,N));return{c(){l=c("div"),t=c("div"),u=c("label"),s=h("\u2715"),d=b(),p=c("h3"),y=h("G\xE9rer les si\xE8ges pour ce vol"),C=b(),f=c("div"),A=c("form"),V=c("div"),q(G.$$.fragment),x=b(),k=c("div"),ee=c("label"),M=c("span"),te=h(`Type de classe
							`),j=c("span"),Ne=h("*"),ae=b(),O=c("select"),$=c("option"),w=h("Veuillez choisir une classe"),T=c("option"),Ge=h("\xC9conomique"),me=c("option"),Z=h("Affaire"),D=c("option"),ue=h("Premi\xE8re"),Re=b(),Y=c("div"),ce=c("label"),v=c("span"),S=h(`Disponible

							`),W=c("span"),_t=h("*"),jt=b(),_e=c("input"),kt=b(),ke=c("div"),le=c("div"),Ae=c("button"),$e.c(),we=b(),R&&R.c(),wt=b(),Ve=c("div"),se=c("table"),pt=c("thead"),ne=c("tr"),ge=c("th"),Vt=h("Num\xE9ro de si\xE8ge"),xe=b(),be=c("th"),Pt=h("Type de classe"),et=b(),Ee=c("th"),Mt=h("Disponibilit\xE9"),tt=b(),Ie=c("th"),Lt=h("Action"),at=b(),pe=c("tbody");for(let N=0;N<Q.length;N+=1)Q[N].c();this.h()},l(N){l=_(N,"DIV",{class:!0});var K=o(l);t=_(K,"DIV",{class:!0});var oe=o(t);u=_(oe,"LABEL",{for:!0,class:!0});var re=o(u);s=g(re,"\u2715"),re.forEach(n),d=E(oe),p=_(oe,"H3",{class:!0});var Be=o(p);y=g(Be,"G\xE9rer les si\xE8ges pour ce vol"),Be.forEach(n),C=E(oe),f=_(oe,"DIV",{class:!0});var Se=o(f);A=_(Se,"FORM",{class:!0});var Fe=o(A);V=_(Fe,"DIV",{class:!0});var dt=o(V);B(G.$$.fragment,dt),dt.forEach(n),x=E(Fe),k=_(Fe,"DIV",{class:!0});var Ce=o(k);ee=_(Ce,"LABEL",{class:!0,for:!0});var Kt=o(ee);M=_(Kt,"SPAN",{class:!0});var nt=o(M);te=g(nt,`Type de classe
							`),j=_(nt,"SPAN",{class:!0});var He=o(j);Ne=g(He,"*"),He.forEach(n),nt.forEach(n),Kt.forEach(n),ae=E(Ce),O=_(Ce,"SELECT",{id:!0,class:!0});var ft=o(O);$=_(ft,"OPTION",{});var vt=o($);w=g(vt,"Veuillez choisir une classe"),vt.forEach(n),T=_(ft,"OPTION",{});var je=o(T);Ge=g(je,"\xC9conomique"),je.forEach(n),me=_(ft,"OPTION",{});var ot=o(me);Z=g(ot,"Affaire"),ot.forEach(n),D=_(ft,"OPTION",{});var it=o(D);ue=g(it,"Premi\xE8re"),it.forEach(n),ft.forEach(n),Ce.forEach(n),Re=E(Fe),Y=_(Fe,"DIV",{class:!0});var bt=o(Y);ce=_(bt,"LABEL",{class:!0,for:!0});var mt=o(ce);v=_(mt,"SPAN",{class:!0});var Rt=o(v);S=g(Rt,`Disponible

							`),W=_(Rt,"SPAN",{class:!0});var Xt=o(W);_t=g(Xt,"*"),Xt.forEach(n),Rt.forEach(n),mt.forEach(n),jt=E(bt),_e=_(bt,"INPUT",{id:!0,type:!0,class:!0}),bt.forEach(n),kt=E(Fe),ke=_(Fe,"DIV",{class:!0});var L=o(ke);le=_(L,"DIV",{class:!0});var Oe=o(le);Ae=_(Oe,"BUTTON",{class:!0});var Wt=o(Ae);$e.l(Wt),Wt.forEach(n),we=E(Oe),R&&R.l(Oe),Oe.forEach(n),L.forEach(n),Fe.forEach(n),wt=E(Se),Ve=_(Se,"DIV",{class:!0});var Ke=o(Ve);se=_(Ke,"TABLE",{class:!0});var qt=o(se);pt=_(qt,"THEAD",{});var Qt=o(pt);ne=_(Qt,"TR",{});var ie=o(ne);ge=_(ie,"TH",{});var ga=o(ge);Vt=g(ga,"Num\xE9ro de si\xE8ge"),ga.forEach(n),xe=E(ie),be=_(ie,"TH",{});var xt=o(be);Pt=g(xt,"Type de classe"),xt.forEach(n),et=E(ie),Ee=_(ie,"TH",{});var Xe=o(Ee);Mt=g(Xe,"Disponibilit\xE9"),Xe.forEach(n),tt=E(ie),Ie=_(ie,"TH",{});var ba=o(Ie);Lt=g(ba,"Action"),ba.forEach(n),ie.forEach(n),Qt.forEach(n),at=E(qt),pe=_(qt,"TBODY",{});var ea=o(pe);for(let ze=0;ze<Q.length;ze+=1)Q[ze].l(ea);ea.forEach(n),qt.forEach(n),Ke.forEach(n),Se.forEach(n),oe.forEach(n),K.forEach(n),this.h()},h(){i(u,"for","my-modal-3"),i(u,"class","btn btn-sm btn-neutral text-white btn-circle absolute right-2 top-2"),i(p,"class","text-lg font-bold"),i(V,"class","col-span-3 lg:col-span-1"),i(j,"class","text-red-500 ml-1"),i(M,"class","label-text text-neutral font-medium"),i(ee,"class","label"),i(ee,"for","class_type"),$.__value="",$.value=$.__value,$.disabled=!0,T.__value=gl.ECONOMY,T.value=T.__value,me.__value=gl.BUSINESS,me.value=me.__value,D.__value=gl.FIRST,D.value=D.__value,i(O,"id","class_type"),i(O,"class","input input-bordered border-neutral w-full"),i(k,"class","form-control col-span-3 lg:col-span-1"),i(W,"class","text-red-500 ml-1"),i(v,"class","label-text text-neutral font-medium"),i(ce,"class","label"),i(ce,"for","is_available"),i(_e,"id","is_available"),i(_e,"type","checkbox"),i(_e,"class","toggle toggle-primary toggle-lg"),_e.checked=Ze=a[2].is_available,_e.required=!0,_e.value=De=a[2].is_available,i(Y,"class","form-control col-span-3 lg:col-span-1"),Ae.disabled=Ye=!a[2].seat_number,i(Ae,"class","btn btn-primary rounded-full w-48 text-xs mt-4"),i(le,"class","text-center self-start"),i(ke,"class","col-span-3"),i(A,"class","grid grid-cols-3 gap-8 mt-10"),i(se,"class","table w-full"),i(Ve,"class","overflow-x-auto w-full mt-10"),i(f,"class","py-4"),i(t,"class","modal-box relative w-full svelte-h3n7ru"),i(l,"class","modal modal-bottom lg:modal-middle"),fr(l,"modal-open",a[0])},m(N,K){X(N,l,K),e(l,t),e(t,u),e(u,s),e(t,d),e(t,p),e(p,y),e(t,C),e(t,f),e(f,A),e(A,V),F(G,V,null),e(A,x),e(A,k),e(k,ee),e(ee,M),e(M,te),e(M,j),e(j,Ne),e(k,ae),e(k,O),e(O,$),e($,w),e(O,T),e(T,Ge),e(O,me),e(me,Z),e(O,D),e(D,ue),Tt(O,a[2].class_type),e(A,Re),e(A,Y),e(Y,ce),e(ce,v),e(v,S),e(v,W),e(W,_t),e(Y,jt),e(Y,_e),e(A,kt),e(A,ke),e(ke,le),e(le,Ae),$e.m(Ae,null),e(le,we),R&&R.m(le,null),e(f,wt),e(f,Ve),e(Ve,se),e(se,pt),e(pt,ne),e(ne,ge),e(ge,Vt),e(ne,xe),e(ne,be),e(be,Pt),e(ne,et),e(ne,Ee),e(Ee,Mt),e(ne,tt),e(ne,Ie),e(Ie,Lt),e(se,at),e(se,pe);for(let oe=0;oe<Q.length;oe+=1)Q[oe].m(pe,null);Pe=!0,lt||(Je=[Te(u,"click",a[11]),Te(O,"change",a[13]),Te(_e,"change",a[14]),Te(Ae,"click",function(){Sr(a[3]?a[9]:a[6])&&(a[3]?a[9]:a[6]).apply(this,arguments)})],lt=!0)},p(N,[K]){a=N;const oe={};if(K&4&&(oe.value=a[2].seat_number),G.$set(oe),(!Pe||K&4&&he!==(he=a[2].class_type))&&Tt(O,a[2].class_type),(!Pe||K&4&&Ze!==(Ze=a[2].is_available))&&(_e.checked=Ze),(!Pe||K&4&&De!==(De=a[2].is_available))&&(_e.value=De),qe===(qe=rt(a))&&$e?$e.p(a,K):($e.d(1),$e=qe(a),$e&&($e.c(),$e.m(Ae,null))),(!Pe||K&4&&Ye!==(Ye=!a[2].seat_number))&&(Ae.disabled=Ye),a[3]?R?R.p(a,K):(R=mr(a),R.c(),R.m(le,null)):R&&(R.d(1),R=null),K&386){st=a[1];let re;for(re=0;re<st.length;re+=1){const Be=vr(a,st,re);Q[re]?Q[re].p(Be,K):(Q[re]=hr(Be),Q[re].c(),Q[re].m(pe,null))}for(;re<Q.length;re+=1)Q[re].d(1);Q.length=st.length}(!Pe||K&1)&&fr(l,"modal-open",a[0])},i(N){Pe||(H(G.$$.fragment,N),Pe=!0)},o(N){z(G.$$.fragment,N),Pe=!1},d(N){N&&n(l),U(G),$e.d(),R&&R.d(),bl(Q,N),lt=!1,El(Je)}}}function Kr(a,l,t){let{isManageSeatModalOpened:u=!1}=l,{flightId:s=""}=l,d=[],p={seat_number:"",is_available:!0,class_type:"economy",flightId:""},y=!1,C=null,f=!1;const A=async()=>{t(5,f=!0);try{const $=await va.getSeats();$.data&&$.data.length>0?t(1,d=$.data.filter(w=>w.flightId==s)):t(1,d=[])}catch{Le.displayErrorNotification("Nous n'avons pas pu charger les places pour ce vol")}finally{t(5,f=!1)}},V=async $=>{if($.preventDefault(),t(5,f=!0),!p.seat_number||!p.class_type){Le.displayErrorNotification("Veuillez remplir tous les champs"),t(5,f=!1);return}try{t(2,p={...p,flightId:parseInt(s)}),await va.createSeat(p),t(2,p={seat_number:"",is_available:!0,class_type:"economy",flightId:""}),Le.displaySuccessNotification("La place a \xE9t\xE9 cr\xE9\xE9e avec succ\xE8s"),A()}catch{Le.displayErrorNotification("Nous n'avons pas pu cr\xE9er la place")}finally{t(5,f=!1)}},G=$=>{t(4,C=$.id),t(2,p.seat_number=$.seat_number,p),t(2,p.is_available=$.is_available,p),t(2,p.class_type=$.class_type,p),t(3,y=!0)},x=async $=>{t(5,f=!0);try{await va.removeSeat($),Le.displaySuccessNotification("La place a \xE9t\xE9 supprim\xE9e avec succ\xE8s"),A()}catch{Le.displayErrorNotification("Nous n'avons pas pu supprimer la place")}finally{t(5,f=!1)}},k=async $=>{if($.preventDefault(),t(5,f=!0),!p.seat_number||!p.class_type){Le.displayErrorNotification("Veuillez remplir tous les champs"),t(5,f=!1);return}try{t(2,p={...p,flightId:parseInt(s)}),await va.updateSeat(C,p),Le.displaySuccessNotification("La place a \xE9t\xE9 modifi\xE9e avec succ\xE8s"),t(2,p={seat_number:"",is_available:!0,class_type:"economy",flightId:""}),t(3,y=!1),t(4,C=null),A()}catch{Le.displayErrorNotification("Nous n'avons pas pu modifier la place")}finally{t(5,f=!1)}};Dr(()=>{A()});const ee=()=>{t(0,u=!1)},M=$=>{t(2,p={...p,seat_number:$.target.value})},te=$=>{t(2,p={...p,class_type:$.target.value})},j=()=>t(2,p={...p,is_available:!p.is_available}),Ne=()=>{t(2,p={seat_number:"",is_available:!0,class_type:"economy",flightId:""}),t(3,y=!1),t(4,C=null)},ae=$=>G($),O=$=>x($.id);return a.$$set=$=>{"isManageSeatModalOpened"in $&&t(0,u=$.isManageSeatModalOpened),"flightId"in $&&t(10,s=$.flightId)},[u,d,p,y,C,f,V,G,x,k,s,ee,M,te,j,Ne,ae,O]}class Xr extends $r{constructor(l){super(),yr(this,l,Kr,jr,Nr,{isManageSeatModalOpened:0,flightId:10})}}function gr(a,l,t){const u=a.slice();return u[31]=l[t],u}function br(a,l,t){const u=a.slice();return u[31]=l[t],u}function Wr(a){let l,t,u,s,d;return{c(){l=c("div"),t=c("button"),u=h("G\xE9rer les si\xE8ges"),this.h()},l(p){l=_(p,"DIV",{slot:!0,class:!0});var y=o(l);t=_(y,"BUTTON",{class:!0});var C=o(t);u=g(C,"G\xE9rer les si\xE8ges"),C.forEach(n),y.forEach(n),this.h()},h(){i(t,"class","btn btn-primary rounded text-xs"),i(l,"slot","action"),i(l,"class","mt-10")},m(p,y){X(p,l,y),e(l,t),e(t,u),s||(d=Te(t,"click",a[7]),s=!0)},p:Il,d(p){p&&n(l),s=!1,d()}}}function Er(a){let l,t=a[31].place+"",u,s;return{c(){l=c("option"),u=h(t),this.h()},l(d){l=_(d,"OPTION",{});var p=o(l);u=g(p,t),p.forEach(n),this.h()},h(){l.__value=s=a[31].place,l.value=l.__value},m(d,p){X(d,l,p),e(l,u)},p(d,p){p[0]&1&&t!==(t=d[31].place+"")&&Wa(u,t),p[0]&33&&s!==(s=d[31].place)&&(l.__value=s,l.value=l.__value)},d(d){d&&n(l)}}}function Ir(a){let l,t=a[31].place+"",u,s;return{c(){l=c("option"),u=h(t),this.h()},l(d){l=_(d,"OPTION",{});var p=o(l);u=g(p,t),p.forEach(n),this.h()},h(){l.__value=s=a[31].place,l.value=l.__value},m(d,p){X(d,l,p),e(l,u)},p(d,p){p[0]&1&&t!==(t=d[31].place+"")&&Wa(u,t),p[0]&33&&s!==(s=d[31].place)&&(l.__value=s,l.value=l.__value)},d(d){d&&n(l)}}}function Qr(a){let l,t;return{c(){l=c("span"),t=h("Modifer")},l(u){l=_(u,"SPAN",{});var s=o(l);t=g(s,"Modifer"),s.forEach(n)},m(u,s){X(u,l,s),e(l,t)},d(u){u&&n(l)}}}function xr(a){let l,t,u,s;return{c(){l=c("div"),t=ma("svg"),u=ma("path"),s=ma("path"),this.h()},l(d){l=_(d,"DIV",{class:!0});var p=o(l);t=ha(p,"svg",{role:!0,class:!0,viewBox:!0,fill:!0,xmlns:!0});var y=o(t);u=ha(y,"path",{d:!0,fill:!0}),o(u).forEach(n),s=ha(y,"path",{d:!0,fill:!0}),o(s).forEach(n),y.forEach(n),p.forEach(n),this.h()},h(){i(u,"d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"),i(u,"fill","currentColor"),i(s,"d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"),i(s,"fill","currentFill"),i(t,"role","status"),i(t,"class","mr-2 w-8 h-8 text-gray-200 animate-spin dark:text-white fill-primary"),i(t,"viewBox","0 0 100 101"),i(t,"fill","none"),i(t,"xmlns","http://www.w3.org/2000/svg"),i(l,"class","spin")},m(d,p){X(d,l,p),e(l,t),e(t,u),e(t,s)},d(d){d&&n(l)}}}function es(a){var Pl,Ml,Ll,Rl,ql,Bl,Fl,Hl,zl,Ul,Gl,Zl,Yl,Jl,jl,Kl,Xl;let l,t,u,s,d,p,y,C,f,A,V,G,x,k,ee,M,te,j,Ne,ae,O,$,w,T,Ge,me,Z,D,ue,he,Re,Y,ce,v,S,W,_t,jt,_e,Ze,De,kt,ke,le,Ae,Ye,we,wt,Ve,se,pt,ne,ge,Vt,xe,be,Pt,et,Ee,Mt,tt,Ie,Lt,at,pe,Pe,lt,Je,rt,qe,$e,R,st,Q,N,K,oe,re,Be,Se,Fe,dt,Ce,Kt,nt,He,ft,vt,je,ot,it,bt,mt,Rt,Xt,L,Oe,Wt,Ke,qt=J.SCHEDULED+"",Qt,ie,ga=J.DELAYED+"",xt,Xe,ba=J.IN_AIR+"",ea,ze,$l=J.EXPECTED+"",Qa,Et,yl=J.DIVERTED+"",xa,It,Nl=J.RECOVERY+"",el,$t,Dl=J.LANDED+"",tl,yt,Al=J.ARRIVED+"",al,Nt,Sl=J.CANCELLED+"",ll,Dt,Cl=J.NO_TAKEOFF_INFO+"",rl,At,Ol=J.PAST_FLIGHT+"",sl,Tl,nl,ta,St,Bt,Ft,ol,aa,il,ul,We,Ga,cl,la,ut,Za,_l,ct,ra,pl,dl,Ya,fl,Ct,Ja,Ht,zt,ja,ht,vl,Qe,ml,kl;l=new Mr({props:{sticky:!0}}),u=new Fr({props:{title:"Modification",titleClassName:"text-xl lg:text-4xl",separatorClassName:"w-48",containerClassName:"h-[300px]",$$slots:{action:[Wr]},$$scope:{ctx:a}}}),y=new Vr({props:{images:a[1],placeholder:"Veuillez telecharger le logo de la compagnie"}}),V=new ye({props:{label:"Nom de la compagnie",isRequired:!0,inputId:"airline",type:"text",placeholder:"AB Aviation",value:a[0].airline}}),V.$on("input",a[8]),k=new ye({props:{label:"Num\xE9ro de vol",isRequired:!0,inputId:"flight_number",type:"text",placeholder:"AB-1234",value:a[0].flight_number}}),k.$on("input",a[9]);let sa=a[5].filter(a[10]),de=[];for(let r=0;r<sa.length;r+=1)de[r]=Er(br(a,sa,r));let na=a[5].filter(a[12]),fe=[];for(let r=0;r<na.length;r+=1)fe[r]=Ir(gr(a,na,r));De=new ye({props:{label:"A\xE9roport d'origine",isRequired:!0,inputId:"origin_airport_name",type:"text",placeholder:"Hahaya Airport",value:(Pl=a[0])==null?void 0:Pl.origin_airport_name}}),De.$on("input",a[14]),le=new ye({props:{label:"Code a\xE9roport d'origine",isRequired:!0,inputId:"origin_airport_code",type:"text",placeholder:"Hahaya Airport",value:(Ml=a[0])==null?void 0:Ml.origin_airport_code}}),le.$on("input",a[15]),we=new ye({props:{label:"A\xE9roport de destination",isRequired:!0,inputId:"destination_airport_name",type:"text",placeholder:"Julius Nyerere International Airport",value:(Ll=a[0])==null?void 0:Ll.destination_airport_name}}),we.$on("input",a[16]),se=new ye({props:{label:"Code a\xE9roport de destination",isRequired:!0,inputId:"destination_airport_code",type:"text",placeholder:"Hahaya Airport",value:(Rl=a[0])==null?void 0:Rl.destination_airport_code}}),se.$on("input",a[17]),ge=new ye({props:{label:"Date de d\xE9part",isRequired:!0,inputId:"departure_date",type:"date",placeholder:"",value:(ql=a[0])==null?void 0:ql.departure_date}}),ge.$on("input",a[18]),be=new ye({props:{label:"Date d'arriv\xE9e",isRequired:!0,inputId:"arrival_date",type:"date",placeholder:"",value:(Bl=a[0])==null?void 0:Bl.arrival_date}}),be.$on("input",a[19]),Ee=new ye({props:{label:"Heure de d\xE9part",isRequired:!0,inputId:"departure_time",type:"time",placeholder:"",value:(Fl=a[0])==null?void 0:Fl.departure_time}}),Ee.$on("input",a[20]),Ie=new ye({props:{label:"Heure d'arriv\xE9e",isRequired:!0,inputId:"arrival_time",type:"time",placeholder:"",value:(Hl=a[0])==null?void 0:Hl.arrival_time}}),Ie.$on("input",a[21]),pe=new ye({props:{label:"Capacit\xE9 maximum",isRequired:!0,inputId:"capacity",type:"number",min:0,placeholder:"",value:(Ul=(zl=a[0])==null?void 0:zl.capacity)==null?void 0:Ul.toString()}}),pe.$on("input",a[22]),Se=new ye({props:{label:"Prix de base (\xE9conomique)",isRequired:!0,inputId:"seat_base_price",type:"number",min:0,placeholder:"",value:(Zl=(Gl=a[0])==null?void 0:Gl.seat_base_price)==null?void 0:Zl.toString()}}),Se.$on("input",a[24]),Ce=new ye({props:{label:"Prix premium (business)",isRequired:!0,inputId:"seat_price_business_class",type:"number",min:0,placeholder:"",value:(Jl=(Yl=a[0])==null?void 0:Yl.seat_price_business_class)==null?void 0:Jl.toString()}}),Ce.$on("input",a[25]),He=new ye({props:{label:"Prix ultime (premi\xE8re)",isRequired:!0,inputId:"seat_price_first_class",type:"number",min:0,placeholder:"",value:(Kl=(jl=a[0])==null?void 0:jl.seat_price_first_class)==null?void 0:Kl.toString()}}),He.$on("input",a[26]);function wl(r,m){return r[2]?xr:Qr}let Ka=wl(a),gt=Ka(a);Ct=new qr({props:{trip_type:"flight",origin_airport_code:a[0].origin_airport_code,destination_airport_code:a[0].destination_airport_code,departure_date:a[0].departure_date,departure_time:a[0].departure_time,arrival_date:a[0].arrival_date,arrival_time:a[0].arrival_time,origin:a[0].origin,destination:a[0].destination,company_logo:a[0].company_logo}}),zt=new Lr({});function Ar(r){a[29](r)}let Vl={flightId:(Xl=a[4].params)==null?void 0:Xl.id};return a[3]!==void 0&&(Vl.isManageSeatModalOpened=a[3]),ht=new Xr({props:Vl}),Or.push(()=>Tr(ht,"isManageSeatModalOpened",Ar)),{c(){q(l.$$.fragment),t=b(),q(u.$$.fragment),s=b(),d=c("div"),p=c("div"),q(y.$$.fragment),C=b(),f=c("form"),A=c("div"),q(V.$$.fragment),G=b(),x=c("div"),q(k.$$.fragment),ee=b(),M=c("div"),te=c("label"),j=c("span"),Ne=h(`Lieu d'origine
								`),ae=c("span"),O=h("*"),$=b(),w=c("select"),T=c("option"),Ge=h("Selectionnez le lieu d'origine?");for(let r=0;r<de.length;r+=1)de[r].c();Z=b(),D=c("div"),ue=c("label"),he=c("span"),Re=h(`Lieu de destination
								`),Y=c("span"),ce=h("*"),v=b(),S=c("select"),W=c("option"),_t=h("Selectionnez le lieu de destination?");for(let r=0;r<fe.length;r+=1)fe[r].c();_e=b(),Ze=c("div"),q(De.$$.fragment),kt=b(),ke=c("div"),q(le.$$.fragment),Ae=b(),Ye=c("div"),q(we.$$.fragment),wt=b(),Ve=c("div"),q(se.$$.fragment),pt=b(),ne=c("div"),q(ge.$$.fragment),Vt=b(),xe=c("div"),q(be.$$.fragment),Pt=b(),et=c("div"),q(Ee.$$.fragment),Mt=b(),tt=c("div"),q(Ie.$$.fragment),Lt=b(),at=c("div"),q(pe.$$.fragment),Pe=b(),lt=c("div"),Je=c("div"),rt=c("label"),qe=c("span"),$e=h(`Billet Remboursable

									`),R=c("span"),st=h("*"),Q=b(),N=c("input"),re=b(),Be=c("div"),q(Se.$$.fragment),Fe=b(),dt=c("div"),q(Ce.$$.fragment),Kt=b(),nt=c("div"),q(He.$$.fragment),ft=b(),vt=c("div"),je=c("div"),ot=c("label"),it=c("span"),bt=h(`Statut du vol
									`),mt=c("span"),Rt=h("*"),Xt=b(),L=c("select"),Oe=c("option"),Wt=h("Veuillez selectionner un statut"),Ke=c("option"),Qt=h(qt),ie=c("option"),xt=h(ga),Xe=c("option"),ea=h(ba),ze=c("option"),Qa=h($l),Et=c("option"),xa=h(yl),It=c("option"),el=h(Nl),$t=c("option"),tl=h(Dl),yt=c("option"),al=h(Al),Nt=c("option"),ll=h(Sl),Dt=c("option"),rl=h(Cl),At=c("option"),sl=h(Ol),nl=b(),ta=c("div"),St=c("div"),Bt=c("label"),Ft=c("span"),ol=h(`Information additionnelle
									`),aa=c("span"),il=h("*"),ul=b(),We=c("textarea"),cl=b(),la=c("div"),ut=c("button"),gt.c(),_l=b(),ct=c("div"),ra=c("div"),pl=h("Aper\xE7u"),dl=b(),Ya=c("hr"),fl=b(),q(Ct.$$.fragment),Ja=b(),Ht=c("div"),q(zt.$$.fragment),ja=b(),q(ht.$$.fragment),this.h()},l(r){B(l.$$.fragment,r),t=E(r),B(u.$$.fragment,r),s=E(r),d=_(r,"DIV",{class:!0});var m=o(d);p=_(m,"DIV",{class:!0});var Ue=o(p);B(y.$$.fragment,Ue),C=E(Ue),f=_(Ue,"FORM",{class:!0});var I=o(f);A=_(I,"DIV",{class:!0});var Ea=o(A);B(V.$$.fragment,Ea),Ea.forEach(n),G=E(I),x=_(I,"DIV",{class:!0});var Ia=o(x);B(k.$$.fragment,Ia),Ia.forEach(n),ee=E(I),M=_(I,"DIV",{class:!0});var Ut=o(M);te=_(Ut,"LABEL",{class:!0,for:!0});var $a=o(te);j=_($a,"SPAN",{class:!0});var oa=o(j);Ne=g(oa,`Lieu d'origine
								`),ae=_(oa,"SPAN",{class:!0});var ya=o(ae);O=g(ya,"*"),ya.forEach(n),oa.forEach(n),$a.forEach(n),$=E(Ut),w=_(Ut,"SELECT",{id:!0,class:!0});var ia=o(w);T=_(ia,"OPTION",{});var Na=o(T);Ge=g(Na,"Selectionnez le lieu d'origine?"),Na.forEach(n);for(let Jt=0;Jt<de.length;Jt+=1)de[Jt].l(ia);ia.forEach(n),Ut.forEach(n),Z=E(I),D=_(I,"DIV",{class:!0});var Gt=o(D);ue=_(Gt,"LABEL",{class:!0,for:!0});var Da=o(ue);he=_(Da,"SPAN",{class:!0});var ua=o(he);Re=g(ua,`Lieu de destination
								`),Y=_(ua,"SPAN",{class:!0});var Aa=o(Y);ce=g(Aa,"*"),Aa.forEach(n),ua.forEach(n),Da.forEach(n),v=E(Gt),S=_(Gt,"SELECT",{id:!0,class:!0});var ca=o(S);W=_(ca,"OPTION",{});var Sa=o(W);_t=g(Sa,"Selectionnez le lieu de destination?"),Sa.forEach(n);for(let Jt=0;Jt<fe.length;Jt+=1)fe[Jt].l(ca);ca.forEach(n),Gt.forEach(n),_e=E(I),Ze=_(I,"DIV",{class:!0});var Me=o(Ze);B(De.$$.fragment,Me),Me.forEach(n),kt=E(I),ke=_(I,"DIV",{class:!0});var _a=o(ke);B(le.$$.fragment,_a),_a.forEach(n),Ae=E(I),Ye=_(I,"DIV",{class:!0});var Ca=o(Ye);B(we.$$.fragment,Ca),Ca.forEach(n),wt=E(I),Ve=_(I,"DIV",{class:!0});var Oa=o(Ve);B(se.$$.fragment,Oa),Oa.forEach(n),pt=E(I),ne=_(I,"DIV",{class:!0});var Ta=o(ne);B(ge.$$.fragment,Ta),Ta.forEach(n),Vt=E(I),xe=_(I,"DIV",{class:!0});var ka=o(xe);B(be.$$.fragment,ka),ka.forEach(n),Pt=E(I),et=_(I,"DIV",{class:!0});var wa=o(et);B(Ee.$$.fragment,wa),wa.forEach(n),Mt=E(I),tt=_(I,"DIV",{class:!0});var Va=o(tt);B(Ie.$$.fragment,Va),Va.forEach(n),Lt=E(I),at=_(I,"DIV",{class:!0});var Pa=o(at);B(pe.$$.fragment,Pa),Pa.forEach(n),Pe=E(I),lt=_(I,"DIV",{class:!0});var Ma=o(lt);Je=_(Ma,"DIV",{class:!0});var Zt=o(Je);rt=_(Zt,"LABEL",{class:!0,for:!0});var La=o(rt);qe=_(La,"SPAN",{class:!0});var pa=o(qe);$e=g(pa,`Billet Remboursable

									`),R=_(pa,"SPAN",{class:!0});var Ra=o(R);st=g(Ra,"*"),Ra.forEach(n),pa.forEach(n),La.forEach(n),Q=E(Zt),N=_(Zt,"INPUT",{id:!0,type:!0,class:!0}),Zt.forEach(n),Ma.forEach(n),re=E(I),Be=_(I,"DIV",{class:!0});var qa=o(Be);B(Se.$$.fragment,qa),qa.forEach(n),Fe=E(I),dt=_(I,"DIV",{class:!0});var Ba=o(dt);B(Ce.$$.fragment,Ba),Ba.forEach(n),Kt=E(I),nt=_(I,"DIV",{class:!0});var Fa=o(nt);B(He.$$.fragment,Fa),Fa.forEach(n),ft=E(I),vt=_(I,"DIV",{class:!0});var Ha=o(vt);je=_(Ha,"DIV",{class:!0});var Yt=o(je);ot=_(Yt,"LABEL",{class:!0,for:!0});var za=o(ot);it=_(za,"SPAN",{class:!0});var da=o(it);bt=g(da,`Statut du vol
									`),mt=_(da,"SPAN",{class:!0});var Ua=o(mt);Rt=g(Ua,"*"),Ua.forEach(n),da.forEach(n),za.forEach(n),Xt=E(Yt),L=_(Yt,"SELECT",{id:!0,class:!0});var ve=o(L);Oe=_(ve,"OPTION",{});var P=o(Oe);Wt=g(P,"Veuillez selectionner un statut"),P.forEach(n),Ke=_(ve,"OPTION",{});var Ot=o(Ke);Qt=g(Ot,qt),Ot.forEach(n),ie=_(ve,"OPTION",{});var Wl=o(ie);xt=g(Wl,ga),Wl.forEach(n),Xe=_(ve,"OPTION",{});var Ql=o(Xe);ea=g(Ql,ba),Ql.forEach(n),ze=_(ve,"OPTION",{});var xl=o(ze);Qa=g(xl,$l),xl.forEach(n),Et=_(ve,"OPTION",{});var er=o(Et);xa=g(er,yl),er.forEach(n),It=_(ve,"OPTION",{});var tr=o(It);el=g(tr,Nl),tr.forEach(n),$t=_(ve,"OPTION",{});var ar=o($t);tl=g(ar,Dl),ar.forEach(n),yt=_(ve,"OPTION",{});var lr=o(yt);al=g(lr,Al),lr.forEach(n),Nt=_(ve,"OPTION",{});var rr=o(Nt);ll=g(rr,Sl),rr.forEach(n),Dt=_(ve,"OPTION",{});var sr=o(Dt);rl=g(sr,Cl),sr.forEach(n),At=_(ve,"OPTION",{});var nr=o(At);sl=g(nr,Ol),nr.forEach(n),ve.forEach(n),Yt.forEach(n),Ha.forEach(n),nl=E(I),ta=_(I,"DIV",{class:!0});var or=o(ta);St=_(or,"DIV",{class:!0});var Xa=o(St);Bt=_(Xa,"LABEL",{class:!0,for:!0});var ir=o(Bt);Ft=_(ir,"SPAN",{class:!0});var hl=o(Ft);ol=g(hl,`Information additionnelle
									`),aa=_(hl,"SPAN",{class:!0});var ur=o(aa);il=g(ur,"*"),ur.forEach(n),hl.forEach(n),ir.forEach(n),ul=E(Xa),We=_(Xa,"TEXTAREA",{id:!0,class:!0,placeholder:!0}),o(We).forEach(n),Xa.forEach(n),or.forEach(n),I.forEach(n),cl=E(Ue),la=_(Ue,"DIV",{class:!0});var cr=o(la);ut=_(cr,"BUTTON",{class:!0});var _r=o(ut);gt.l(_r),_r.forEach(n),cr.forEach(n),Ue.forEach(n),_l=E(m),ct=_(m,"DIV",{class:!0});var fa=o(ct);ra=_(fa,"DIV",{class:!0});var pr=o(ra);pl=g(pr,"Aper\xE7u"),pr.forEach(n),dl=E(fa),Ya=_(fa,"HR",{class:!0}),fl=E(fa),B(Ct.$$.fragment,fa),fa.forEach(n),m.forEach(n),Ja=E(r),Ht=_(r,"DIV",{class:!0});var dr=o(Ht);B(zt.$$.fragment,dr),dr.forEach(n),ja=E(r),B(ht.$$.fragment,r),this.h()},h(){var r,m;i(A,"class","col-span-6 lg:col-span-3"),i(x,"class","col-span-6 lg:col-span-3"),i(ae,"class","text-red-500 ml-1"),i(j,"class","label-text text-neutral font-medium"),i(te,"class","label"),i(te,"for","origin"),T.__value="",T.value=T.__value,T.disabled=!0,T.selected=!0,i(w,"id","origin"),i(w,"class","select select-bordered w-full border-black"),w.required=!0,i(M,"class","col-span-6 lg:col-span-3"),i(Y,"class","text-red-500 ml-1"),i(he,"class","label-text text-neutral font-medium"),i(ue,"class","label"),i(ue,"for","destination"),W.__value="",W.value=W.__value,W.disabled=!0,W.selected=!0,i(S,"id","destination"),i(S,"class","select select-bordered w-full border-black"),S.required=!0,i(D,"class","col-span-6 lg:col-span-3"),i(Ze,"class","col-span-6 lg:col-span-3"),i(ke,"class","col-span-6 lg:col-span-3"),i(Ye,"class","col-span-6 lg:col-span-3"),i(Ve,"class","col-span-6 lg:col-span-3"),i(ne,"class","col-span-6 lg:col-span-3"),i(xe,"class","col-span-6 lg:col-span-3"),i(et,"class","col-span-6 lg:col-span-3"),i(tt,"class","col-span-6 lg:col-span-3"),i(at,"class","col-span-6 lg:col-span-3"),i(R,"class","text-red-500 ml-1"),i(qe,"class","label-text text-neutral font-medium"),i(rt,"class","label"),i(rt,"for","refundable"),i(N,"id","refundable"),i(N,"type","checkbox"),i(N,"class","toggle toggle-primary toggle-lg"),N.checked=K=(r=a[0])==null?void 0:r.refundable,N.required=!0,N.value=oe=(m=a[0])==null?void 0:m.refundable,i(Je,"class","form-control"),i(lt,"class","col-span-6 lg:col-span-3"),i(Be,"class","col-span-6 lg:col-span-2"),i(dt,"class","col-span-6 lg:col-span-2"),i(nt,"class","col-span-6 lg:col-span-2"),i(mt,"class","text-red-500 ml-1"),i(it,"class","label-text text-neutral font-medium"),i(ot,"class","label"),i(ot,"for","status"),Oe.disabled=!0,Oe.__value="",Oe.value=Oe.__value,Ke.__value=J.SCHEDULED,Ke.value=Ke.__value,ie.__value=J.DELAYED,ie.value=ie.__value,Xe.__value=J.IN_AIR,Xe.value=Xe.__value,ze.__value=J.EXPECTED,ze.value=ze.__value,Et.__value=J.DIVERTED,Et.value=Et.__value,It.__value=J.RECOVERY,It.value=It.__value,$t.__value=J.LANDED,$t.value=$t.__value,yt.__value=J.ARRIVED,yt.value=yt.__value,Nt.__value=J.CANCELLED,Nt.value=Nt.__value,Dt.__value=J.NO_TAKEOFF_INFO,Dt.value=Dt.__value,At.__value=J.PAST_FLIGHT,At.value=At.__value,i(L,"id","status"),i(L,"class","input input-bordered border-neutral w-full uppercase"),i(je,"class","form-control"),i(vt,"class","col-span-6 lg:col-span-6"),i(aa,"class","text-red-500 ml-1"),i(Ft,"class","label-text text-neutral font-medium"),i(Bt,"class","label"),i(Bt,"for","description"),i(We,"id","description"),We.required=!0,i(We,"class","textarea textarea-bordered border-neutral w-full"),i(We,"placeholder","D\xE9crivez votre vol"),We.value=Ga=a[0].description,i(St,"class","form-control"),i(ta,"class","col-span-6 lg:col-span-6"),i(f,"class","grid grid-cols-6 gap-8"),ut.disabled=Za=!a[0].airline||!a[0].flight_number||!a[0].origin_airport_code||!a[0].destination_airport_code||a[0].capacity<=0||!a[0].origin||!a[0].destination||!a[0].origin_airport_name||!a[0].destination_airport_name||!a[0].departure_time||!a[0].arrival_time||!a[0].departure_date||!a[0].arrival_date||!a[0].description||!a[0].status||a[0].seat_base_price<=0||a[0].seat_price_business_class<=0||a[0].seat_price_first_class<=0,i(ut,"class","btn btn-primary rounded-full w-48 text-xs mt-4"),i(la,"class","text-center mt-10"),i(p,"class","col-span-4 lg:col-span-3"),i(ra,"class","font-bold text-xl"),i(Ya,"class","my-4"),i(ct,"class","col-span-4 lg:col-span-1"),i(d,"class","mt-10 grid grid-cols-4 gap-10 px-8 lg:px-16"),i(Ht,"class","mt-20")},m(r,m){var Ue;F(l,r,m),X(r,t,m),F(u,r,m),X(r,s,m),X(r,d,m),e(d,p),F(y,p,null),e(p,C),e(p,f),e(f,A),F(V,A,null),e(f,G),e(f,x),F(k,x,null),e(f,ee),e(f,M),e(M,te),e(te,j),e(j,Ne),e(j,ae),e(ae,O),e(M,$),e(M,w),e(w,T),e(T,Ge);for(let I=0;I<de.length;I+=1)de[I].m(w,null);Tt(w,a[0].origin),e(f,Z),e(f,D),e(D,ue),e(ue,he),e(he,Re),e(he,Y),e(Y,ce),e(D,v),e(D,S),e(S,W),e(W,_t);for(let I=0;I<fe.length;I+=1)fe[I].m(S,null);Tt(S,(Ue=a[0])==null?void 0:Ue.destination),e(f,_e),e(f,Ze),F(De,Ze,null),e(f,kt),e(f,ke),F(le,ke,null),e(f,Ae),e(f,Ye),F(we,Ye,null),e(f,wt),e(f,Ve),F(se,Ve,null),e(f,pt),e(f,ne),F(ge,ne,null),e(f,Vt),e(f,xe),F(be,xe,null),e(f,Pt),e(f,et),F(Ee,et,null),e(f,Mt),e(f,tt),F(Ie,tt,null),e(f,Lt),e(f,at),F(pe,at,null),e(f,Pe),e(f,lt),e(lt,Je),e(Je,rt),e(rt,qe),e(qe,$e),e(qe,R),e(R,st),e(Je,Q),e(Je,N),e(f,re),e(f,Be),F(Se,Be,null),e(f,Fe),e(f,dt),F(Ce,dt,null),e(f,Kt),e(f,nt),F(He,nt,null),e(f,ft),e(f,vt),e(vt,je),e(je,ot),e(ot,it),e(it,bt),e(it,mt),e(mt,Rt),e(je,Xt),e(je,L),e(L,Oe),e(Oe,Wt),e(L,Ke),e(Ke,Qt),e(L,ie),e(ie,xt),e(L,Xe),e(Xe,ea),e(L,ze),e(ze,Qa),e(L,Et),e(Et,xa),e(L,It),e(It,el),e(L,$t),e($t,tl),e(L,yt),e(yt,al),e(L,Nt),e(Nt,ll),e(L,Dt),e(Dt,rl),e(L,At),e(At,sl),Tt(L,a[0].status),e(f,nl),e(f,ta),e(ta,St),e(St,Bt),e(Bt,Ft),e(Ft,ol),e(Ft,aa),e(aa,il),e(St,ul),e(St,We),e(p,cl),e(p,la),e(la,ut),gt.m(ut,null),e(d,_l),e(d,ct),e(ct,ra),e(ra,pl),e(ct,dl),e(ct,Ya),e(ct,fl),F(Ct,ct,null),X(r,Ja,m),X(r,Ht,m),F(zt,Ht,null),X(r,ja,m),F(ht,r,m),Qe=!0,ml||(kl=[Te(w,"input",a[11]),Te(S,"input",a[13]),Te(N,"change",a[23]),Te(L,"change",a[27]),Te(We,"input",a[28]),Te(ut,"click",a[6])],ml=!0)},p(r,m){var Ca,Oa,Ta,ka,wa,Va,Pa,Ma,Zt,La,pa,Ra,qa,Ba,Fa,Ha,Yt,za,da,Ua,ve;const Ue={};m[0]&8|m[1]&32&&(Ue.$$scope={dirty:m,ctx:r}),u.$set(Ue);const I={};m[0]&2&&(I.images=r[1]),y.$set(I);const Ea={};m[0]&1&&(Ea.value=r[0].airline),V.$set(Ea);const Ia={};if(m[0]&1&&(Ia.value=r[0].flight_number),k.$set(Ia),m[0]&33){sa=r[5].filter(r[10]);let P;for(P=0;P<sa.length;P+=1){const Ot=br(r,sa,P);de[P]?de[P].p(Ot,m):(de[P]=Er(Ot),de[P].c(),de[P].m(w,null))}for(;P<de.length;P+=1)de[P].d(1);de.length=sa.length}if((!Qe||m[0]&33&&me!==(me=r[0].origin))&&Tt(w,r[0].origin),m[0]&33){na=r[5].filter(r[12]);let P;for(P=0;P<na.length;P+=1){const Ot=gr(r,na,P);fe[P]?fe[P].p(Ot,m):(fe[P]=Ir(Ot),fe[P].c(),fe[P].m(S,null))}for(;P<fe.length;P+=1)fe[P].d(1);fe.length=na.length}(!Qe||m[0]&33&&jt!==(jt=(Ca=r[0])==null?void 0:Ca.destination))&&Tt(S,(Oa=r[0])==null?void 0:Oa.destination);const Ut={};m[0]&1&&(Ut.value=(Ta=r[0])==null?void 0:Ta.origin_airport_name),De.$set(Ut);const $a={};m[0]&1&&($a.value=(ka=r[0])==null?void 0:ka.origin_airport_code),le.$set($a);const oa={};m[0]&1&&(oa.value=(wa=r[0])==null?void 0:wa.destination_airport_name),we.$set(oa);const ya={};m[0]&1&&(ya.value=(Va=r[0])==null?void 0:Va.destination_airport_code),se.$set(ya);const ia={};m[0]&1&&(ia.value=(Pa=r[0])==null?void 0:Pa.departure_date),ge.$set(ia);const Na={};m[0]&1&&(Na.value=(Ma=r[0])==null?void 0:Ma.arrival_date),be.$set(Na);const Gt={};m[0]&1&&(Gt.value=(Zt=r[0])==null?void 0:Zt.departure_time),Ee.$set(Gt);const Da={};m[0]&1&&(Da.value=(La=r[0])==null?void 0:La.arrival_time),Ie.$set(Da);const ua={};m[0]&1&&(ua.value=(Ra=(pa=r[0])==null?void 0:pa.capacity)==null?void 0:Ra.toString()),pe.$set(ua),(!Qe||m[0]&33&&K!==(K=(qa=r[0])==null?void 0:qa.refundable))&&(N.checked=K),(!Qe||m[0]&33&&oe!==(oe=(Ba=r[0])==null?void 0:Ba.refundable))&&(N.value=oe);const Aa={};m[0]&1&&(Aa.value=(Ha=(Fa=r[0])==null?void 0:Fa.seat_base_price)==null?void 0:Ha.toString()),Se.$set(Aa);const ca={};m[0]&1&&(ca.value=(za=(Yt=r[0])==null?void 0:Yt.seat_price_business_class)==null?void 0:za.toString()),Ce.$set(ca);const Sa={};m[0]&1&&(Sa.value=(Ua=(da=r[0])==null?void 0:da.seat_price_first_class)==null?void 0:Ua.toString()),He.$set(Sa),(!Qe||m[0]&33&&Tl!==(Tl=r[0].status))&&Tt(L,r[0].status),(!Qe||m[0]&33&&Ga!==(Ga=r[0].description))&&(We.value=Ga),Ka!==(Ka=wl(r))&&(gt.d(1),gt=Ka(r),gt&&(gt.c(),gt.m(ut,null))),(!Qe||m[0]&33&&Za!==(Za=!r[0].airline||!r[0].flight_number||!r[0].origin_airport_code||!r[0].destination_airport_code||r[0].capacity<=0||!r[0].origin||!r[0].destination||!r[0].origin_airport_name||!r[0].destination_airport_name||!r[0].departure_time||!r[0].arrival_time||!r[0].departure_date||!r[0].arrival_date||!r[0].description||!r[0].status||r[0].seat_base_price<=0||r[0].seat_price_business_class<=0||r[0].seat_price_first_class<=0))&&(ut.disabled=Za);const Me={};m[0]&1&&(Me.origin_airport_code=r[0].origin_airport_code),m[0]&1&&(Me.destination_airport_code=r[0].destination_airport_code),m[0]&1&&(Me.departure_date=r[0].departure_date),m[0]&1&&(Me.departure_time=r[0].departure_time),m[0]&1&&(Me.arrival_date=r[0].arrival_date),m[0]&1&&(Me.arrival_time=r[0].arrival_time),m[0]&1&&(Me.origin=r[0].origin),m[0]&1&&(Me.destination=r[0].destination),m[0]&1&&(Me.company_logo=r[0].company_logo),Ct.$set(Me);const _a={};m[0]&16&&(_a.flightId=(ve=r[4].params)==null?void 0:ve.id),!vl&&m[0]&8&&(vl=!0,_a.isManageSeatModalOpened=r[3],kr(()=>vl=!1)),ht.$set(_a)},i(r){Qe||(H(l.$$.fragment,r),H(u.$$.fragment,r),H(y.$$.fragment,r),H(V.$$.fragment,r),H(k.$$.fragment,r),H(De.$$.fragment,r),H(le.$$.fragment,r),H(we.$$.fragment,r),H(se.$$.fragment,r),H(ge.$$.fragment,r),H(be.$$.fragment,r),H(Ee.$$.fragment,r),H(Ie.$$.fragment,r),H(pe.$$.fragment,r),H(Se.$$.fragment,r),H(Ce.$$.fragment,r),H(He.$$.fragment,r),H(Ct.$$.fragment,r),H(zt.$$.fragment,r),H(ht.$$.fragment,r),Qe=!0)},o(r){z(l.$$.fragment,r),z(u.$$.fragment,r),z(y.$$.fragment,r),z(V.$$.fragment,r),z(k.$$.fragment,r),z(De.$$.fragment,r),z(le.$$.fragment,r),z(we.$$.fragment,r),z(se.$$.fragment,r),z(ge.$$.fragment,r),z(be.$$.fragment,r),z(Ee.$$.fragment,r),z(Ie.$$.fragment,r),z(pe.$$.fragment,r),z(Se.$$.fragment,r),z(Ce.$$.fragment,r),z(He.$$.fragment,r),z(Ct.$$.fragment,r),z(zt.$$.fragment,r),z(ht.$$.fragment,r),Qe=!1},d(r){U(l,r),r&&n(t),U(u,r),r&&n(s),r&&n(d),U(y),U(V),U(k),bl(de,r),bl(fe,r),U(De),U(le),U(we),U(se),U(ge),U(be),U(Ee),U(Ie),U(pe),U(Se),U(Ce),U(He),gt.d(),U(Ct),r&&n(Ja),r&&n(Ht),U(zt),r&&n(ja),U(ht,r),ml=!1,El(kl)}}}function ts(a){let l,t;return l=new wr({props:{$$slots:{default:[es]},$$scope:{ctx:a}}}),{c(){q(l.$$.fragment)},l(u){B(l.$$.fragment,u)},m(u,s){F(l,u,s),t=!0},p(u,s){const d={};s[0]&31|s[1]&32&&(d.$$scope={dirty:s,ctx:u}),l.$set(d)},i(u){t||(H(l.$$.fragment,u),t=!0)},o(u){z(l.$$.fragment,u),t=!1},d(u){U(l,u)}}}function as(a){let l,t;return l=new Pr({props:{$$slots:{default:[ts]},$$scope:{ctx:a}}}),{c(){q(l.$$.fragment)},l(u){B(l.$$.fragment,u)},m(u,s){F(l,u,s),t=!0},p(u,s){const d={};s[0]&31|s[1]&32&&(d.$$scope={dirty:s,ctx:u}),l.$set(d)},i(u){t||(H(l.$$.fragment,u),t=!0)},o(u){z(l.$$.fragment,u),t=!1},d(u){U(l,u)}}}function ls(a,l,t){let u;Cr(a,Rr,v=>t(4,u=v));let{data:s={airline:"",flight_number:"",origin_airport_code:"",destination_airport_code:"",capacity:0,origin:"",destination:"",origin_airport_name:"",destination_airport_name:"",departure_time:"",arrival_time:"",departure_date:"",arrival_date:"",refundable:!1,company_logo:"",description:"",seat_base_price:0,seat_price_business_class:0,seat_price_first_class:0,status:""}}=l,d=[{place:"Anjouan",airport_name:"A\xE9roport de Ouani",airport_code:"AJN"},{place:"Grande Comore",airport_name:"A\xE9roport international Moroni Prince Sa\xEFd Ibrahim",airport_code:"HAH"},{place:"Moheli",airport_name:"A\xE9roport Bandar Es Eslam",airport_code:"NWA"},{place:"Mayotte",airport_name:"A\xE9roport international Dzaoudzi-Pamandzi",airport_code:"DZA"},{place:"Tanzanie",airport_name:"Julius Nyerere International Airport",airport_code:"DAR"}],p=[],y=!1,C=!1;const f=async v=>{t(2,y=!0);try{const S=await va.getFlight(v);t(0,s=S.data),delete s.updated_at,delete s.created_at}catch(S){console.log(S)}finally{t(2,y=!1)}},A=async v=>{var S,W;if(v.preventDefault(),t(2,y=!0),!s.airline||!s.flight_number||!s.origin_airport_code||!s.destination_airport_code||s.capacity<=0||!s.origin||!s.destination||!s.origin_airport_name||!s.destination_airport_name||!s.departure_time||!s.arrival_time||!s.departure_date||!s.arrival_date||!s.description||!s.status||s.seat_base_price<=0||s.seat_price_business_class<=0||s.seat_price_first_class<=0)return t(2,y=!1),Le.displayErrorNotification("Veuillez remplir tous les champs.");t(0,s={...s,company_logo:p.length>0?p[0].url:s.company_logo,capacity:parseInt(s.capacity.toString())});try{await va.updateFlight(s),Le.displaySuccessNotification("Votre vol a bien \xE9t\xE9 modifi\xE9."),t(0,s={airline:"",flight_number:"",origin_airport_code:"",destination_airport_code:"",capacity:0,origin:"",destination:"",origin_airport_name:"",destination_airport_name:"",departure_time:"",arrival_time:"",departure_date:"",arrival_date:"",refundable:!1,company_logo:"",description:"",seat_base_price:0,seat_price_business_class:0,seat_price_first_class:0,status:""}),t(1,p=[]),Br("/admin/account#flights")}catch(_t){((W=(S=_t.response)==null?void 0:S.data)==null?void 0:W.statusCode)===400?Le.displayErrorNotification("Nous n'avons pas r\xE9ussi \xE0 modifier votre vol. Veuillez v\xE9rifier les informations saisies."):Le.displayErrorNotification("Une erreur est survenue.")}finally{t(2,y=!1)}};Dr(()=>{u.params.id&&f(u.params.id)});const V=()=>t(3,C=!0),G=v=>{t(0,s={...s,airline:v.target.value})},x=v=>{t(0,s={...s,flight_number:v.target.value})},k=v=>v.place!=s.destination,ee=v=>{t(0,s={...s,origin:v.target.value,origin_airport_name:d.find(S=>S.place===v.target.value).airport_name,origin_airport_code:d.find(S=>S.place===v.target.value).airport_code})},M=v=>v.place!=s.origin,te=v=>{t(0,s={...s,destination:v.target.value,destination_airport_name:d.find(S=>S.place===v.target.value).airport_name,destination_airport_code:d.find(S=>S.place===v.target.value).airport_code})},j=v=>{t(0,s={...s,origin_airport_name:v.target.value})},Ne=v=>{t(0,s={...s,origin_airport_code:v.target.value})},ae=v=>{t(0,s={...s,destination_airport_name:v.target.value})},O=v=>{t(0,s={...s,destination_airport_code:v.target.value})},$=v=>{t(0,s={...s,departure_date:v.target.value})},w=v=>{t(0,s={...s,arrival_date:v.target.value})},T=v=>{t(0,s={...s,departure_time:v.target.value})},Ge=v=>{t(0,s={...s,arrival_time:v.target.value})},me=v=>{t(0,s={...s,capacity:v.target.value})},Z=()=>t(0,s={...s,refundable:!s.refundable}),D=v=>{t(0,s={...s,seat_base_price:v.target.value})},ue=v=>{t(0,s={...s,seat_price_business_class:v.target.value})},he=v=>{t(0,s={...s,seat_price_first_class:v.target.value})},Re=v=>{t(0,s={...s,status:v.target.value})},Y=v=>{t(0,s={...s,description:v.target.value})};function ce(v){C=v,t(3,C)}return a.$$set=v=>{"data"in v&&t(0,s=v.data)},[s,p,y,C,u,d,A,V,G,x,k,ee,M,te,j,Ne,ae,O,$,w,T,Ge,me,Z,D,ue,he,Re,Y,ce]}class vs extends $r{constructor(l){super(),yr(this,l,ls,as,Nr,{data:0},null,[-1,-1])}}export{vs as default};
