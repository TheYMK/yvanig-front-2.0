{"version":3,"file":"_page.svelte-cc448812.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/bookflight/_id_/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, a as subscribe$1, v as validate_component } from \"../../../../chunks/index.js\";\nimport { p as page } from \"../../../../chunks/stores.js\";\nimport { L as Layout, N as Navbar, F as Footer } from \"../../../../chunks/Layout.js\";\nimport \"../../../../chunks/Api.js\";\nimport { G as GenericHero } from \"../../../../chunks/GenericHero.js\";\nimport { w as writable } from \"../../../../chunks/index2.js\";\n/* empty css                                                      */const defaultStoreValue = {\n  bookingCache: {\n    document_type: null,\n    document_number: null,\n    phone_number: null,\n    date_of_birth: null,\n    gender: null,\n    booking_type: \"flight\",\n    selectedOffer: null,\n    flightId: null,\n    seatId: null,\n    payment_method: null\n  },\n  currentStep: 0\n};\nconst bookingStoreWrittable = writable(defaultStoreValue);\nconst { subscribe, update } = bookingStoreWrittable;\nconst bookingStore = {\n  subscribe,\n  init(flightId) {\n    try {\n      let cache = {};\n      let currStep = 1;\n      if (window && window.localStorage.getItem(\"bookingCache\")) {\n        cache = JSON.parse(window.localStorage.getItem(\"bookingCache\"));\n        console.log(\"[bookingStore] cache\", cache);\n        if (cache.flightId == flightId) {\n          if (cache.selectedOffer) {\n            currStep = 2;\n          }\n          if (cache.selectedOffer && cache.document_type && cache.document_number && cache.phone_number && cache.date_of_birth && cache.gender) {\n            currStep = 3;\n          }\n          if (cache.selectedOffer && cache.document_type && cache.document_number && cache.phone_number && cache.date_of_birth && cache.gender && cache.seatId) {\n            currStep = 4;\n          }\n          if (cache.selectedOffer && cache.document_type && cache.document_number && cache.phone_number && cache.date_of_birth && cache.gender && cache.seatId && cache.payment_method) {\n            currStep = 5;\n          }\n        } else {\n          window.localStorage.setItem(\"bookingCache\", JSON.stringify(defaultStoreValue.bookingCache));\n        }\n      } else {\n        if (window) {\n          window.localStorage.setItem(\"bookingCache\", JSON.stringify(defaultStoreValue.bookingCache));\n        }\n      }\n      return update((store) => ({\n        ...store,\n        bookingCache: { ...store.bookingCache, ...cache },\n        currentStep: currStep\n      }));\n    } catch (err) {\n      console.error(\"[bookingCacheStore] error on init\", err);\n    }\n  },\n  updateBooking(currentBookingProgress) {\n    if (window && window.localStorage.getItem(\"bookingCache\")) {\n      let currStep = 1;\n      window.localStorage.setItem(\"bookingCache\", JSON.stringify(currentBookingProgress));\n      if (currentBookingProgress.selectedOffer && currentBookingProgress.flightId) {\n        currStep = 2;\n      }\n      if (currentBookingProgress.selectedOffer && currentBookingProgress.flightId && currentBookingProgress.document_type && currentBookingProgress.document_number && currentBookingProgress.phone_number && currentBookingProgress.date_of_birth && currentBookingProgress.gender) {\n        currStep = 3;\n      }\n      if (currentBookingProgress.selectedOffer && currentBookingProgress.flightId && currentBookingProgress.document_type && currentBookingProgress.document_number && currentBookingProgress.phone_number && currentBookingProgress.date_of_birth && currentBookingProgress.gender && currentBookingProgress.seatId) {\n        currStep = 4;\n      }\n      if (currentBookingProgress.selectedOffer && currentBookingProgress.flightId && currentBookingProgress.document_type && currentBookingProgress.document_number && currentBookingProgress.phone_number && currentBookingProgress.date_of_birth && currentBookingProgress.gender && currentBookingProgress.seatId && currentBookingProgress.payment_method) {\n        currStep = 5;\n      }\n      return update((store) => ({\n        ...store,\n        bookingCache: { ...currentBookingProgress },\n        currentStep: currStep\n      }));\n    }\n  },\n  resetBooking() {\n    window.localStorage.setItem(\"bookingCache\", JSON.stringify(defaultStoreValue.bookingCache));\n    return update((store) => ({\n      bookingCache: defaultStoreValue.bookingCache,\n      currentStep: defaultStoreValue.currentStep\n    }));\n  }\n};\nconst BookingStepper = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { currentStep = 1 } = $$props;\n  if ($$props.currentStep === void 0 && $$bindings.currentStep && currentStep !== void 0)\n    $$bindings.currentStep(currentStep);\n  return `<div class=\"${\"\"}\"><ul class=\"${\"steps steps-vertical lg:steps-horizontal w-full font-bold\"}\"><li class=\"${\"step step-primary\"}\">Informations sur le vol</li>\n\t\t<li class=\"${[\n    \"step\",\n    currentStep === 2 || currentStep === 3 || currentStep === 4 || currentStep === 5 ? \"step-primary\" : \"\"\n  ].join(\" \").trim()}\">Passager\n\t\t</li>\n\t\t<li class=\"${[\n    \"step\",\n    currentStep === 3 || currentStep === 4 || currentStep === 5 ? \"step-primary\" : \"\"\n  ].join(\" \").trim()}\">Options\n\t\t</li>\n\t\t<li class=\"${[\n    \"step\",\n    currentStep === 4 || currentStep === 5 ? \"step-primary\" : \"\"\n  ].join(\" \").trim()}\">Paiement</li>\n\t\t<li class=\"${[\"step\", currentStep === 5 ? \"step-primary\" : \"\"].join(\" \").trim()}\">Confirmer</li></ul></div>\n\n`;\n});\nconst SeatOptionsCard_svelte_svelte_type_style_lang = \"\";\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$unsubscribe_page;\n  $$unsubscribe_page = subscribe$1(page, (value) => value);\n  let currentStep = 1;\n  bookingStore.subscribe((store) => {\n    store.bookingCache;\n    currentStep = store.currentStep;\n  });\n  $$unsubscribe_page();\n  return `${validate_component(Layout, \"Layout\").$$render($$result, {}, {}, {\n    default: () => {\n      return `${validate_component(Navbar, \"Navbar\").$$render($$result, { sticky: true }, {}, {})}\n\t${validate_component(GenericHero, \"GenericHero\").$$render(\n        $$result,\n        {\n          title: \"Effectuer une r\\xE9servation\",\n          titleClassName: \"text-2xl lg:text-3xl text-center\",\n          separatorClassName: \"w-48\",\n          containerClassName: \"h-[100px]\"\n        },\n        {},\n        {}\n      )}\n\n\t<div class=\"${\"mt-20 px-8 lg:px-16\"}\">\n\t\t${validate_component(BookingStepper, \"BookingStepper\").$$render($$result, { currentStep }, {}, {})}\n\t\t\n\t\t${``}</div>\n\t<div class=\"${\"mt-20\"}\">${validate_component(Footer, \"Footer\").$$render($$result, {}, {}, {})}</div>`;\n    }\n  })}`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}